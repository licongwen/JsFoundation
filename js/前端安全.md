##前端安全

### XSS:跨站脚本攻击

* 使用XSS filter

    * 输出过滤，对用户提交得数据进行有效性验证，仅接受指定长度范围并符合期望格式得内容提交，阻止或者忽略除此之外得其他任何数据。

    * 输出内容转义，当需要将一个字符串输出到Web网页时，同时又不确定这个字符串中是否包含XSS特殊字符，为了确保输出内容得完整性和正确性，输出HTML属性得同时可以使用HTML转义编码（HTMLEncode）进行处理,输出到<script>中，可以进行JS编码。

* 使用Httponly,Cookie将重要得cookie字段标记为httponly，这样的话当浏览器向Web服务器发送请求的时候就会带上cookie，但是js脚本不能访问这个cookie，这样就避免了XSS攻击利用Javascript的document.cookie获取cookie。

### CSRF：跨站请求伪造,也称XSRF，是一种挟制用户在当前已登陆的Web应用程序上执行非脚本的操作的攻击昂发。与XSS相比，XSS利用的是用户对指定网站的信任，CSRF利用的是网站对用户网页浏览器的信任。

* 预防:用户操作限制：验证码机制

    * 方法：添加验证码来识别是不是一个用户主动发起这个请求，由于一定强度的验证码机器无法识别，因此危险网站不能伪造一个完整的请求。
    * 优点：简单粗暴，成本低，可靠
    * 却段：对用户不友好

* 请求来源限制：验证HTTP Referer字段

    * 方法：在HTTP请求头中有一个字段叫Referer，它记录了请求的来源地址。服务器需要做的是验证这个来源地址是否合法，如果是一个来自不受信任的网站，则拒绝响应。
    * 缺点：由于这个方法严重依赖浏览器自身，因此安全性全看浏览器

* 额外的验证机制：token

    * 使用token来代替验证码验证。cookie在每次http请求的时候都会自动带上，token则不会。
    * 方法：服务端随机产生token，发送到服务端，前端请求的时候，将token放到请求头中。由服务器验证token的正确性。